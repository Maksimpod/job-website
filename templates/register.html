{% extends 'blankbase.html' %}

{% block content %}
<div class="registerWrap registerBox">
    <div class="formBox">
        <a class="back-button" href="/">Назад</a>
        <h1>Регистрация</h1>
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <ul class="regErrorMessage">
              {% for message in messages %}
                <li style="color: red; margin: 3px;">{{ message }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}
        <form action="" method="post" novalidate>
            {{ form.hidden_tag() }}
            <div class="role-selection">
                <div class="role-options">
                    {% for subfield in form.role_type %}
                        <label class="role-option">
                            {{ subfield }}
                            <div class="role-option-content">
                                <h4>{{ subfield.label.text }}</h4>
                            </div>
                        </label>
                    {% endfor %}
                </div>
                {% for error in form.role_type.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </div>
            <p class="fieldsMargin">
              {{ form.username(size=32, class="form-field") }}<br>
              {% for error in form.username.errors %}
                <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
            </p>
            <p class="fieldsMargin">
              {{ form.email(size=32, class="form-field") }}<br>
              {% for error in form.email.errors %}
                <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
            </p>
            <p class="fieldsMargin">
              {{ form.password(size=32, class="form-field") }}<br>
              {% for error in form.password.errors %}
                <span style="color: red;">[{{ error }}]</span>
              {% endfor %}
            </p>
            <p>{{ form.submit(class="submit-button") }}</p>
        </form>
        <span class="loginMessage">Уже есть аккаунт? <a href="/login">Войти</a></span>
        </div>
</div>
{% endblock %}